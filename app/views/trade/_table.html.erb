<table class="table table-striped table-dark ct-table">
  <thead>
  <tr>
    <th class="trade-col-width text-center">Symbol</th>
    <th class="trade-col-width text-center">Amount</th>
    <th class="trade-col-width text-center">Start ($)</th>
    <th class="trade-col-width text-center">Current ($)</th>
    <th class="trade-col-width text-center">&Delta; ($)</th>
    <th class="trade-col-width text-center">Trailing ($)</th>
    <th class="trade-col-width text-center">Init ($)</th>
    <th class="trade-col-width text-center">Risk</th>
  </tr>
  </thead>
  <tbody>

  <% @trades.each do |trade| -%>
    <tr>
      <td>
        <div class="ct-chip"><%= trade.symbol %></div>
      </td>
      <td>
        <div class="ct-chip"><%= trade.count %></div>
      </td>
      <td>
        <div class="ct-chip"><%= trade.start_usd %></div>
      </td>
      <td>
        <div class="ct-chip"><%= trade.current_usd == -1 ? 'n.a.' : trade.current_usd %></div>
      </td>
      <td>
        <% if trade.current_usd != -1
             current_total = (trade.current_usd - trade.start_usd) * trade.count
        %>
          <div class="ct-chip alert-<%= current_total > 0 ? 'success' : 'warning' %> ">
            <%= current_total %>
          </div>
        <% end %>
      </td>
      <td>
        <div class="ct-chip"><%= trade.trailing_stop_usd %></div>
      </td>
      <td>
        <div class="ct-chip"><%= trade.init_stop_usd %></div>
      </td>
      <td>
        <% risk = (trade.trailing_stop_usd - trade.start_usd) * trade.count %>
        <div class="ct-chip alert-<%= risk > 0 ? 'success' : 'warning' %> ">
          <%= risk %>
        </div>
      </td>
      <td>
        <div class="d-flex justify-content-center">
          <%= link_to "&#x2699".html_safe, trade_update_path(id: trade.id), class: 'btn btn-sm btn-outline-light ct-btn' %>
        </div>
      </td>
    </tr>
  <% end -%>

  </tbody>
</table>
<% if @trades.empty? %>

  <div class="alert alert-secondary" role="alert">No trades to display</div>

<% end %>